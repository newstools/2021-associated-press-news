Stocks ended another wobbly day mostly higher, enough for the S&P 500 to notch another record high. Retailers and companies reliant on consumer spending were among the better performers coming off the Christmas holiday shopping season. With two trading days left in the year, the S&P 500 is headed for a gain of more than 27% for 2021, nearly as big as its gain in 2019. On Wednesday:The S&P 500 rose 6.71 points, or 0.1%, to 4,793.06.The Dow Jones Industrial Average rose 90.42 points, or 0.2%, to 36,488.63.The Nasdaq fell 15.51 points, or 0.1%, to 15,766.22.The Russell 2000 index of smaller companies rose 2.74 points, or 0.1%, to 2,249.24.For the week:The S&P 500 is up 67.27 points, or 1.4%.The Dow is up 538.07 points, or 1.5%.The Nasdaq is up 112.84 points, or 0.7%.The Russell 2000 is up 7.67 points, or 0.3%.For the year:The S&P 500 is up 1,036.99 points, or 27.6%.The Dow is up 5,882.15 points, or 19.2%.The Nasdaq is up 2,877.94 points, or 22.3%.The Russell 2000 is up 274.39 points, or 13.9%.