CAIRO (AP) — Sudan’s deposed prime minister signed a deal with the military on Sunday that will see him reinstated, almost a month after a military coup put him under house arrest. A key pro-democracy group that has mobilized dozens of protests had dismissed the deal as “a form of betrayal.” The deal, announced in a ceremony broadcast live on Sudan state TV, envisages an independent technocratic Cabinet to be led by Hamdok until elections can be held. It remains unclear how much power the government would hold. It would still remain under military oversight. It also remains unclear whether any political parties or pro-democracy groups have signed off on the agreement. The deal expects the military to release government officials and politicians arrested since the Oct. 25 coup.The coup, more than two years after a popular uprising forced the removal of longtime autocrat Omar al-Bashir and his Islamist government, has drawn international criticism.“The signing of this deal opens the door wide enough to address all the challenges of the transitional period,” said Hamdok, speaking at the signing ceremony. Sudanese have been taking to the streets in masses since the military takeover, which upended the country’s fragile transition to democracy. The agreement comes just days after doctors said at least 15 people were killed by live fire during anti-coup demonstrations. Hamdok has been held under house arrest by military leaders for weeks.The deal also stipulates that an investigation shall be conducted to identify those responsible for the killing and injuring of civilians and troops that marred protests following the coup. Hamdok thanked Sudan’s “regional and global friends” who helped in reaching this agreement but he did not name the countries. The 14-clause deal also stressed that power should be handed over to an elected civilian government after the end of the transitional period.“By signing this declaration, we could lay a genuine foundation to the transitional period,” said Abdel-Fattah Burhan, the country’s top military leader. “We want to establish a true partnership with all national forces so that we can eventually build institutions that can take us forward.” The Sudanese Professionals’ Association, a group that played a key role in the uprising against Bashir, voiced their vehement opposition to the agreement, accusing Hamdok of committing “political suicide.”“This agreement only concerns its signatories and it is an unjust attempt to bestow legitimacy on the latest coup and the military council,” tweeted the group shortly after the deal was signed. Earlier, the Forces for the Declaration of Freedom and Change, an umbrella of many political parties and pro-democracy groups, objected to any deals with the military.In a statement Sunday, the group reiterated its opposition to any new political partnership with the military, insisting the perpetrators of the coup should be brought to justice.“We are not concerned with any agreements with this brute junta and we are employing all peaceful and creative methods to bring it down,” the statement said.The largest of the political parties said to be included in the deal, the Umma Party, had also issued a statement implying that it did not sign off on it. Cameron Hudson, a former U.S. State Department official and Sudan expert at the Atlantic Council’s Africa Center, said the deal allows the generals to largely retain their control and avoid accountability for the coup and the deaths of dozens of protesters.“This is a deal among elites that largely seems to prioritize their preservation over the demands of the street,” he said.Thousands had taken to the streets in the capital of Khartoum on Sunday, shortly before the signing ceremony, to denounce the coup and demand the immediate transfer of power to civilians. Protesters waved the Sudanese flag and chanted “Power to the people! The military belong in their barracks.” Activists have circulated on videos on social media showing tear gas being fired at protestors. Also earlier, military and government officials who spoke of the deal on condition of anonymity because they weren’t authorized to release the information, said that the U.N., the U.S. and others had played “crucial roles” in crafting the agreement. The United States, its allies and the United Nations have condemned the use of excessive force against anti-coup protesters.The United Nations Integrated Transition Assistance Mission in Sudan, or UNITAMS, welcomed the agreement and urged both parties to “urgently address unresolved issues to complete the political transition in an inclusive manner, with respect for human rights and the rule of law.”